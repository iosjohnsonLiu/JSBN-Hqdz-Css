@g-topnav-h:50px;
@g-mainnav-w:200px;


.g-mainnav(){
  &{
    .transition(.3s);
    height: calc(100% - @g-topnav-h);
    position: fixed;
    top:@g-topnav-h;
    left: 0;
    z-index: (@zindex-navbar - 1);
    .u-mainnav{
      .u-mainnav();
    }
    @media screen and (min-width: @screen-sm-min){
      width: @g-mainnav-w;
    }
    @media screen and (max-width: @screen-xs-max){
      width: @g-mainnav-w;
      left: -@g-mainnav-w;
    }
  }
  &.switch-mainnav{
    @media screen and (min-width: @screen-sm-min){
      left:-@g-mainnav-w;
    }
    @media screen and (max-width: @screen-xs-max){
      left:0;
    }
  }
}
.u-mainnav(){
  @li-h:50px;
  height: 100%;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  //文字前面留空隙
  @bg-1-u: #36394d;
  @bg-2-u: #242633;
  @bg-3-u: #122633;
  @pgl-1-a:10px;
  @pgl-2-a:20px;
  @pgl-3-a:30px;
  @brt-color:#2a2d3e;
  @text-color:#fff;
  @text-font:12px;
  @active-text-color:#4cace2;
  background-color: @bg-1-u;
  ul{
    background-color: @bg-1-u;
    li{
      a{padding-left: @pgl-1-a}
      ul{
        background-color: @bg-2-u;
        li{
          a{padding-left: @pgl-2-a}
          ul{
            background-color: @bg-3-u;
            li{
              a{padding-left: @pgl-3-a}
            }
          }
        }
      }
    }
  }
  .main-menu{
    li{
      position: relative;
      border-top: 1px solid @brt-color;
      a{
        position: relative;
        display: block;
        font-size: @text-font;
        height: @li-h;
        line-height: @li-h;
        color: @text-color;
      }
      &.active a,a:hover,a:active{color: @active-text-color;}
      &.active{ border-left: 3px solid @active-text-color; }
      ul{ height: 0; .transition(.3s);overflow: hidden}
      &.unfold >ul{height: auto;}
    }
    .item-menu{
      >a{
        .glyphicon-menu-up();
        &:before{
          .glyphicon();
          display: block;
          position: absolute;
          z-index: 10;
          height: @li-h;
          line-height: @li-h;
          font-size: @text-font;
          color: @text-color;
          right: 10px;
          top: 0;
          text-align: center;
          .transition(.3s);
          .rotate(360deg);
        };
        &:hover,&:active{&:before{color: @active-text-color;}}
      }
      &.unfold >a:before { .rotate(180deg);}
    }
  }
}
.g-topnav(){
  @bg-c:@progress-bar-info-bg;
  position: fixed;
  top:0;
  left: 0;
  z-index: @zindex-navbar;
  width: 100%;
  height: @g-topnav-h;
  background-color: @bg-c;
  .transition(.3s);
  @text-color:#fff;
  .u-topnav{
    .brand-box{
      a{
        float: left;
        padding: 0 15px;
        font-size: 18px;
        line-height: @g-topnav-h;
        height: @g-topnav-h;
        color: @text-color;
        &{
          .glyphicon-menu-hamburger();
          &:before{
            .glyphicon();
            display: inline-block;
            position: relative;
            margin-right: 5px;
            font-size: 18px;
            line-height: @g-topnav-h;
            color: #fff;
            right: 0;
            top: 3px;
            text-align: center;
          };
        }
      }
    }

    @media screen and (min-width: @screen-sm-min){
      .nav-box{
        float: right;
        .switch-menu{display: none;}
        .top-menu{
          li{

            display: inline-block;
            height: @g-topnav-h;
            a{
              padding: 0 15px;
              font-size: 12px;
              line-height: @g-topnav-h;
              color: @text-color;
            }
          }
        }
      }
    }
    @media screen and (max-width: @screen-xs-max){
      .nav-box{
        float: right;
        .switch-menu{
          width: @g-topnav-h;
          height: @g-topnav-h;
          .glyphicon-cog();
          &:before{
            .glyphicon();
            display: block;
            z-index: 10;
            height: @g-topnav-h;
            line-height: @g-topnav-h;
            font-size: 18px;
            color: @text-color;
            text-align: center;
            .transition(.3s);
            .rotate(360deg);
          };
        }
        .top-menu{
          border-radius: 4px;
          display: none;
          overflow: hidden;
          @li-h:30px;
          @br-c: darken(@bg-c,20%);
          background-color: #fff;
          position: absolute;
          top:@g-topnav-h;
          right: 0;
          margin-top: -10px;
          min-width: 120px;
          border: 1px solid #ccc;
          padding: 4px 0;
          li{
            display: block;
            text-align: center;
            height:@li-h;
            &:first-child{ border-top-style: none; }
            &:hover,&:active{
              background-color: #eee;
            }
            a{
              display: block;
              padding: 0 12px;
              font-size: 12px;
              line-height: @li-h;
              color: #000;
            }
          }
        }
      }
    }
  }
}
.g-content(){
  .transition(.3s);
  //height: 100%;
  height: calc(100% - @g-topnav-h);
  overflow: auto;
  margin-top: @g-topnav-h;
  &.fullshow{
    width: 100%;
    height:100%;
    margin-left: 0;
    margin-top: 0;
  }
  //pad端与pc端
  @media screen and (min-width: @screen-sm-min){
    width: calc(100% - @g-mainnav-w);
    margin-left: @g-mainnav-w;
    &.hide-nav{
      width:100%;
      margin-left:0;
    }
    .m-view{
      padding: 20px;
    }
  }
  //手机端
  @media screen and (max-width: @screen-xs-max){

  }


  .m-welcome-view{
    height: 100%;
    background-color: #eeeeee;
    padding: 0;
    .welcome-box{
      height: 100%;
      .displayFlex();
      .justifyContentCenter();
      .alignItemsCenter();
    }
    .welcome-text{
      text-align: center;
      @media screen and (min-width: @screen-sm-min){
        span,strong{
          font-size: @font-size-h1;
          line-height: 60px;
          font-family: @font-family-monospace;
          font-weight: bold;
        }
        strong{
          color: #f0ad4e;
          font-size: 44px;
        }
      }
      //手机端
      @media screen and (max-width: @screen-xs-max){
        span,strong{
          font-size: @font-size-h3;
          line-height: 60px;
          font-family: @font-family-monospace;
          font-weight: bold;
        }
        strong{
          color: #f0ad4e;
          font-size: 30px;
        }
      }

    }
  }
}
.u-grid-table(){
  border: 1px solid @btn-default-border;
  border-radius: 4px;
  overflow: hidden;
  .container,.container-fluid{padding: 0;}
  .grid-top{
    border-bottom: 1px solid @btn-default-border;
    background-color: #eee;
    .clearfix();
    .grid-btn-group{
      float: right;
      padding: 4px;
    }
    .grid-title{
      padding: 0 12px;
      font-size: @font-size-h4;
      line-height: 44px;
      &:before{
        .glyphicon();
        content: "\e055";
        top: 2px;
      }
    }
  }
  .grid-table{
    background-color: @btn-default-bg;
    width: 100%;
    >.grid-thead{
      overflow: hidden;
      //background-color: @brand-info;
      background-color: #eee;
      @media screen and (max-width: @screen-xs-max){
        display: none;
      }
    }
    >.grid-tbody{
      border-top: 1px solid @btn-default-border;
      overflow: hidden;
      @media screen and (min-width: @screen-sm-min){
        .col{height: 44px;max-width: 40vw;}
      }

    }
    >.grid-tfoot{
      background-color: #eee;
      border-top: 1px solid @btn-default-border;
      td[colspan]{
        width: 100%;
      }
    }
   .row{
     .displayFlex();
     .flexWrapWrap();
     border-bottom: 1px solid @btn-default-border;
     margin: 0;
     &:last-child{
       border-bottom-style:none;
     }
     >.col{
       padding: 5px;
       @media screen and (min-width: @screen-sm-min){

         border-right: 1px solid @btn-default-border;
         &:last-child{
           border-right-style:none;
         }
         .col-title{
           display: none;
         }
       }
       @media screen and (max-width: @screen-xs-max){
         text-align: right;
         .col-title{
           color: @input-color-placeholder;
           margin-right: 20px ;
           float: left;
         }
         .col-text{
         }
       }
       .displayFlex();
       .justifyContentCenter();
       .flexDirectionColumn();
       //.alignItemsCenter();
     }
   }
    @media screen and (min-width: @screen-sm-min){
      &{

          border-spacing: 0;
          border-collapse: collapse;
          display: table;
        >.grid-thead{display: table-header-group;}
        >.grid-tbody{display: table-row-group;}
        >.grid-tfoot{display: table-footer-group;}
        .row{
          display: table-row;
          .col{
            width: auto;
            display: table-cell;
          }
        }
      }
    }
  }
  .ctl-btn-box{
    @media screen and (max-width: @screen-xs-max){
      .flex(1);
      .displayFlex();
      //.justifyContentCenter();
      .alignItemsCenter();
      margin-left: 5%;
      margin-right: 5%;
      .ctl-btn{
        .flex(1);
      }
    }
    .ctl-btn{
      .btn();
      margin: 1%;
      &:last-child{
        margin-right: 0;
      }
      &.modify{
        .btn-info();
        .glyphicon();
        .glyphicon-pencil();
      }
      &.delete{
        .btn-danger();
        .glyphicon();
        .glyphicon-trash();
      }
      &.detail{
        .btn-info();
        .glyphicon();
        &:before {content: "\e105";}
      }
      &.photo{
        .btn-info();
        .glyphicon();
        &:before {content: "\e060";}
      }
      &.submit{
        .btn-danger();
        .glyphicon();
        &:before {content: "\e013";}
      }
    }
  }
}
.u-page-box(){
  width: 100%;
  @media screen and (min-width:@screen-sm-min){
    .page-box{
      float: right;
      .clearfix();
      .page-text{
        display: inline-block;
        padding: 6px 12px;
        margin: 10px 0;
        float: left;
      }
      .pagination{
        margin: 10px 20px 10px 0;
        float: right;
      }
    }
  }
  @media screen and (max-width: @screen-xs-max){
    .page-box{
      text-align: center;
      .page-text{
        display: block;
        padding: 6px 12px;
        margin: 0 auto;
      }
      .pagination{
        margin: 0 auto;
      }
    }
  }
}

.u-sift-box(){
  @border-color: #ccc;
  background-color: #f0f0f0;
  border-radius: 4px;
  border: 1px solid @border-color;
  margin-bottom: 20px;
  @header-h:44px;
  .header{
    border-bottom: 1px solid @border-color;
    height: @header-h;
    position: relative;
    span{
      font-size: @font-size-h4;
      line-height: @header-h;
      padding: 0 12px;
      &:before{
        .glyphicon();
        content: "\e003";
      }
    }
    .ctl-btn-box{
      position: absolute;
      right: 3px;
      top: 3px;
      .btn{
        min-width: 80px;
        .btn-info();
      }
    }
  }
  .body{
    padding: 10px;
    &{
      font-size: 0;
      .glyphicon{
        &:before{
          position: relative;
          top: 2px;
        }
      }
      .form-group{
        .form-control{ font-size: 12px; }
        span{  font-size: 14px; }
        >.input-group{
          >.input-group-btn{
            >.btn{
              border-radius: 0;
            }
            &:last-child{
              @media screen and (min-width: @screen-sm-min) {
                > .btn {
                  .border-right-radius(4px);
                }
              }
            }
          }

        }

      }

    }

    @media screen and (min-width: @screen-sm-min) {
      &{
        .clearfix();
        .btn-search {
          margin-left: 0;
          margin-right: 0;
          .input-group{
            margin-left: 0;
          }
        }
        .form-group {
          margin-bottom: 5px;
          margin-right: 5px;
        }
      }
      .form-group.sift-btn-group{
        float: right;
        width: auto!important;
        .btn{
          margin-left: 5px;
          margin-right: 5px;
        }
      }
      &.multi-input{
        .form-group {
          margin-bottom: 10px;
          margin-right: 10px;
          width: 280px;
          >.input-group{
            width: 100%;
            .input-group-addon,
            .input-group-btn{
              width: 1px;
            }
            .form-control {
              width: 100%;

            }


          }

          &.btn-search,&.btn-create{
            width: auto;
            .input-group{
              width: auto;
              margin-right: 5px;
              margin-left: 5px;
            }
          }
        }
      }
      &.single-input {
        .btn-search{
          margin-left: 0;
          .btn{
            .border-left-radius(0);
            .border-right-radius(4px);
          }
        }
        .form-group {
          margin-bottom: 0;
          margin-right: 0;
        }
      }
    }
    @media screen and (max-width: @screen-xs-max) {
      &{
        text-align: center;
        .clearfix();
        .btn-search {
          display: block;
          .input-group{
            width: 40%;
            display: inline-table;
            margin-right: 2%;
            margin-left: 2%;
          }
          .btn{width: 100%};
        }
        .form-group{
          margin-bottom: 5px;
          .input-group-addon,input{
            border-radius: 0;
          }
        }
      }
      &.single-input {
        .btn{
          border-radius: 0;
        }
      }
    }
  }


}
.u-sift-box{.u-sift-box();}
///--未使用的---begin/
&{

  .u-menu-select(){
    @li-h:40px;
    //文字前面留空隙
    @bg-1-u: #eee;
    @bg-2-u: #eee;
    @bg-3-u: #eee;
    @pgl-1-a:10px;
    @pgl-2-a:30px;
    @pgl-3-a:50px;
    @brt-color:#d6d6d6;
    @text-color:#000;
    @text-font:12px;
    @active-text-color: #000;
    @check-color:#666;

    .menu-select{
      max-height: 45vh;
      min-height: 200px;
      overflow-y: auto;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
      .menu-select();
      .mult-select();
      .group-select();
      .ctl-btn-box{width: 50px;text-align: center;}
    }
    //列表布局
    .menu-select(){
      border-radius: 5px;
      border: 1px solid @brt-color;
      background-color: @bg-1-u;
      height: 100%;
      ul{
        li{
          background-color: #fff;
          border-top: 1px solid lighten(#fff,5%);
          &.item-menu{
            background-color: #eee;
            border-top: 1px solid lighten(#eee,5%);
          }
        }

      }
      ul{
        li{
          &>a{padding-left: @pgl-1-a;&:before{left: (@pgl-1-a - 25)!important;}}
          &.item-menu>a{
            padding-left:( @pgl-1-a + 20 );
            &:before{left: (@pgl-1-a)!important;}
          }
          ul{
            li{
              &>a{padding-left: @pgl-2-a;&:before{left: (@pgl-2-a - 25)!important;}}
              &.item-menu>a{
                padding-left:( @pgl-2-a + 20 );
                &:before{left: (@pgl-2-a)!important;}
              }
              ul{
                li{
                  &>a{padding-left: @pgl-3-a;&:before{left: (@pgl-3-a - 25)!important;}}
                  &.item-menu>a{
                    padding-left:( @pgl-3-a + 20);
                    &:before{left: (@pgl-3-a)!important;}
                  }
                }
              }
            }
          }
        }
      }
      .main-menu{
        .square(100%);
        li{
          position: relative;
          a{
            position: relative;
            display: block;
            font-size: @text-font;
            height: @li-h;
            line-height: @li-h;
            color: @text-color;
          }
          &.active>a,>a:hover,>a:active{color: @active-text-color;}
          ul{ height: 0; .transition(.3s);overflow: hidden}
          &.unfold >ul{height: auto;}
        }
        .item-menu{
          >a{
            .glyphicon-menu-up();
            &:before{
              .glyphicon();
              border-style: none;
              display: block;
              position: absolute;
              margin-top:0;
              z-index: 10;
              height: 20px;
              width: 12px;
              line-height: 20px;
              font-size: @text-font;
              color: @text-color;
              left: 0;
              top: 10px;
              text-align: center;
              .transition(.3s);
              .rotate(360deg);
            };
            &:hover,&:active{&:before{color: @active-text-color;}}
          }
          &.unfold >a:before { .rotate(180deg);}
        }
      }
    }
    //单选
    .single-select(){
      ///设置选择状态
      .main-menu{
        li{
          &.active{ border-left: 3px solid @active-text-color; }
        }
      }
    }
    //多选择
    .mult-select(){
      ///设置选择状态
      .main-menu{
        li.select-item{
          a{
            &:before{
              .glyphicon();
              content: " ";
              text-align: center;
              position: absolute;
              left: 0;
              top: 50%;
              width: 20px;
              height: 20px;
              line-height: 16px;
              margin-top: -10px;
              display: block;
              border: 2px solid @check-color;
              color: @check-color;
            }
          }
          &.active>a{
            .glyphicon-ok();
            //border-left: 3px solid @brand-primary;
          }
        }
      }
    }
    //group选择
    .group-select(){
      ///设置选择状态
      .main-menu{
        li{
          >.group-select{
            &:after{
              .glyphicon();
              content: " ";
              text-align: center;
              position: absolute;
              right: 5px;
              top: 8px;
              width: 20px;
              height: 20px;
              line-height: 16px;
              display: block;
              border: 2px solid @check-color;
              color: @check-color;
            };
            &:hover,&:active{&:before{color: @active-text-color;}}
          }
          //&.group-select-null>a:after { content: " "}
          >.portion-select:after { content: "\2b"}
          >.full-select:after { content: "\e013"}
        }
      }
    }
  }

  .u-text-list(){
    text-align: left;
    ul{
      margin-top: 15px;
      margin-bottom: 15px;
      li{
        display: inline-block;
        padding: 2px 0;
        margin-bottom:5px;
        @media screen and (max-width: @screen-xs-max){
          width: 50%;
        }
        @media screen and (min-width: @screen-sm-min){
          min-width: 150px;
          margin-right: 20px;
        }

        span{font-size: 14px;line-height: 16px;}
        .title{color: #666}
        .text{}
      }
    }
    >.form-group{width: 320px!important;}
  }
  //.u-menu-select{.u-menu-select();}

  //.u-text-list{.u-text-list();}
}
///--未使用的---end/



//微调BootStrap样式
&{
  .modal{
    text-align: center;
    background-color: fade(#000,50%);
    overflow-y: auto;
    overflow-x: hidden;
    font-size: 0;
    >*{
      font-size: @font-size-base;
    }
    &:before{
      content: " ";
      display: inline-block;
      vertical-align: middle;
      height: 100%;
      width: 0;
      visibility: hidden;
    }
    .modal-dialog{
      text-align: left;
      vertical-align: middle;
      display: inline-block;
      margin: 0;
    }
    .modal-content{

    }
    .modal-header{background-color: #eee;
      .border-top-radius(6px);
      overflow: hidden;
    }
    .modal-body{
      //max-height: calc(100vh - 180px);
      //overflow-y: auto;
      //overflow-x: hidden;
      .form-group {
        >.input-group,>fieldset>.input-group{
          margin-top: 5px;
          margin-bottom: 5px;
          &.not-null{
            &:after{
              content: "*";
              display: block;
              position: absolute;
              color: #fa0000;
              font-size: 24px;
              height: 24px;
              right: 100%;
              top: 50%;
              margin-top: -12px;
              margin-right: 2px;
            }
          }
        }

      }
    }
    .modal-footer{background-color: #eee;
      .border-bottom-radius(6px);
      overflow: hidden;
    }
  }
  .form-group{
    >.input-group,>fieldset>.input-group{
      >div:last-child{
        >.input-group{
          div:last-child{
            button{ border-radius: 0 4px 4px 0 !important; }
          }
        }
        >*{
          button{ border-radius: 0 4px 4px 0 !important; }
        }
      }
    }
  }
  .dropdown-date{
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 2px;
    width: 100%;
    z-index: @zindex-tooltip;
  }
  .form-control-group{
    display: table-cell;
    width: 100%;
    float: left;
    .input-group{width: 100%;margin: 0 ;}
    .input-group-btn{position: static;}
    input{ border-radius: 0; }
    .dropdown-menu{
      width: 100%;margin-top: 1px;
      max-height: 250px;
      overflow: auto;
      li{
        a{
          padding: 8px 20px;
        }
      }
    }
  }
  .radio-group{
    display:flex;
    justify-content: space-around;
    align-content: center;
    >label{
      margin:1px 3px;
      >input{
        margin-right: 4px;
      }
    }
  }
  .link-default {.link(#000);}
  .link-info    {.link(@brand-info);}
  .link-warning {.link(@brand-warning);}
  .link-success {.link(@brand-success);}
  .link-primary {.link(@brand-primary);}
  .link-danger  {.link(@brand-danger);}
  .link(@color){
    &,&:link,&:visited{
      padding: 2px 4px;
      text-decoration: underline;
      color: @color;
      cursor: pointer;
    }
    &:hover,&:active{
      color: darken(@color,10%);
      text-decoration: underline;
      background-color: fade(@color,30%);
      border-radius: 2px;
    }
  }
}

//日历
.datepicker(){
  @select-font-color:#fff;
  @select-backgroundColor: #ff3e3e;
  @today-font-color:#fff;
  @today-backgroundColor:#FF9A99;
  @default-font-color:#000;
  @default-font-size:12px;
  @group-space:1rem;
  font-size: 12px;
  height: 0;
  min-height: 200px;
  .datepicker{
    &{
      height: 100%;
      background: #F9F9F9;
      border: 1px solid #dddddd;
      border-radius: 6px;
      overflow: hidden;
    }
    .datepicker-group{
      width: 100%;
      height: 100%;
      .datepicker-header{
        //日历标题
        position: relative;
        padding-right: 40px;
        padding-left: 40px;
        height: 18%;
        .left-btn-box{
          position: absolute;left: 0;top: 0;width: 40px; height: 100%;
          .icon-left-btn{
            position: absolute;left: 50%;top: 50%;
            margin-left: -10px;
            margin-top: -10px;
            //.icon-date-left-array();
            &:before{
              .glyphicon();
              font-size: 16px;
              line-height: 20px;
              content: "\e132";
            }
          }
          &:active,&:hover{
            .icon-left-btn:before{ color: @select-backgroundColor; }
          }
        }
        .right-btn-box{
          position: absolute;right: 0;top: 0;width: 40px; height: 100%;
          .icon-right-btn{
            position: absolute;left: 50%;top: 50%;
            margin-left: -10px;
            margin-top: -10px;
            &:before{
              .glyphicon();
              font-size: 16px;
              line-height: 20px;
              content: "\e131";
            }

          }
          &:active,&:hover{
            .icon-right-btn:before{ color: @select-backgroundColor; }
          }
        }
        .date-title-box{
          height: 100%;
          .displayFlex();
          .justifyContentCenter();
          .alignItemsCenter();
          text-align: center;
          .date-year{}
          .date-month{}
        }
      }
      //日历展示
      table.datepicker-calendar{
        border-collapse: collapse;
        border-top: 1px solid #fff;
        background-color: #fff;
        text-align: center;
        width: 100%;
        height: 82%;
        thead{
          background: #F7F7F7;
          tr{
            th{
              height: 30px;
              span{
                padding: 5px;
                font-size: 14px;
              }
              &.rest-date{span{color: red;}}
              &.work-date{}
            }
          }

        }
        tbody{
          height: 75%;
          tr{
            td{
              //height: 20px;
              span{
                color: @default-font-color;
                font-size: @default-font-size;
                display: block;
              }
              &.before-day-number{
                span{color: #cacaca;font-weight: 100;}
              }
              &.day-number{
                cursor: pointer;
                &.state-today{
                  background-color: @today-backgroundColor;
                  span{color: @today-font-color;}
                }
                &.state-select,&:active,&:hover{
                  background-color: @select-backgroundColor;
                  span{color: @select-font-color;}
                }
              }
            }
          }
        }
      }
    }
  }
}
//日历
.u-datepicker-box{ .datepicker(); }

.u-page-box{.u-page-box();}

.addon-length-6{.addon-length(6);}
.addon-length-5{.addon-length(5);}
.addon-length-4{.addon-length(4);}
.addon-length-3{.addon-length(3);}
.addon-length-2{.addon-length(2);}
.addon-length(@length;){
  @default-w:25px;
  @font-size:14px;
  .input-group{
    .input-group-addon{
      min-width: (@default-w + @font-size * @length);
    }
  }
}

.modal-m{  }

.modal-size(@width){

}
//文本框调整
&{
  .remark-textarea{
    min-height: 90px;
  }
}


